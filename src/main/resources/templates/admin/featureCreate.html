<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Feature – Create</title>
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}"/>
</head>
<body>
<div class="container my-4" style="max-width:720px;">
    <h3 class="mb-3">Register New Feature</h3>

    <!-- action MUST be POST /admin/features -->
    <form th:action="@{/admin/features}" th:object="${feature}" method="post">
        <input type="hidden" th:if="${_csrf != null}"
               th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

        <div class="alert alert-danger" th:if="${#fields.hasAnyErrors()}">
            <ul class="mb-0">
                <li th:each="e : ${#fields.errors()}" th:text="${e}">Error</li>
            </ul>
        </div>

        <div class="form-group mb-3">
            <label for="name">Feature Name <span class="text-danger">*</span></label>
            <input id="name" class="form-control" th:field="*{name}" placeholder="e.g., Blindspot Warning" required>
            <small class="text-danger" th:errors="*{name}"></small>
        </div>

        <div class="form-group mb-3">
            <label for="category">Category <span class="text-danger">*</span></label>
            <select id="category" class="form-control" th:field="*{category}" required>
                <option value="" th:if="${#strings.isEmpty(*{category})}" disabled selected>Select a category</option>
                <option value="Safety">Safety</option>
                <option value="Comfort & Convenience">Comfort &amp; Convenience</option>
                <option value="Interior">Interior</option>
            </select>
            <small class="text-danger" th:errors="*{category}"></small>
        </div>

        <div class="form-group mb-4">
            <label for="description">Description</label>
            <textarea id="description" class="form-control" th:field="*{description}"
                      rows="3" placeholder="Optional details…" maxlength="500"></textarea>
            <small class="text-danger" th:errors="*{description}"></small>
        </div>

        <div class="d-flex justify-content-end">
            <a th:href="@{/admin/featureList}" class="btn btn-light me-2">Cancel</a>
            <button class="btn btn-primary" type="submit">Save Feature</button>
        </div>
    </form>
</div>
</body>
</html>